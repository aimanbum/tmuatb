<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAMAN TMUATB</title>
    <link rel="icon" type="image/png" href="logo.png">
    <style>
        :root {
            --primary-navy: #003366;
            --accent-blue: #00509d;
            --light-bg: #f8fafc;
            --text-dark: #1e293b;
        }

        body { 
            font-family: 'Inter', 'Segoe UI', Roboto, sans-serif; 
            background-color: var(--light-bg); 
            margin: 0; 
            padding: 40px 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text-dark);
        }

        .container { 
            max-width: 1100px; 
            width: 100%;
            background: #ffffff; 
            padding: 40px; 
            border-radius: 20px; 
            box-shadow: 0 10px 40px rgba(0,0,0,0.06); 
            border: 1px solid #e2e8f0;
        }
        
        .header { 
            text-align: center; 
            margin-bottom: 50px; /* Menambah ruang antara tajuk dan kotak */
        }
        .logo-sekolah { width: 100px; height: auto; margin-bottom: 15px; }
        h1 { font-size: 28px; color: var(--primary-navy); margin: 0; font-weight: 800; letter-spacing: -0.5px; text-transform: uppercase; }
        .sub-header { font-size: 16px; color: #64748b; margin-top: 8px; font-weight: 500; }

        /* LAYOUT UTAMA */
        .main-layout { display: flex; gap: 40px; align-items: flex-start; }
        
        /* BAHAGIAN KIRI (PAUTAN) */
        .links-area { flex: 1.5; display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .btn { 
            display: flex; align-items: center; justify-content: center; padding: 25px 20px; 
            background: #ffffff; color: var(--primary-navy); text-decoration: none; 
            border: 2px solid #e2e8f0; border-radius: 12px; font-weight: 700; font-size: 13px; 
            transition: all 0.3s ease; text-align: center; line-height: 1.4;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
        }
        .btn:hover { border-color: var(--primary-navy); background: var(--primary-navy); color: white; transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }

        /* BAHAGIAN KANAN (SIDE BOX ENROLMEN) */
        .side-box { 
            flex: 1; background: #ffffff; padding: 25px; border-radius: 16px; 
            border: 1px solid #e2e8f0; box-shadow: 0 4px 12px rgba(0,0,0,0.03);
        }
        .side-box h3 { 
            font-size: 16px; margin-top: 0; color: var(--primary-navy); 
            display: flex; align-items: center; gap: 8px; border-bottom: 2px solid #f1f5f9;
            padding-bottom: 12px; margin-bottom: 20px; text-transform: uppercase;
        }

        .grand-total-card { 
            background: linear-gradient(135deg, var(--primary-navy) 0%, var(--accent-blue) 100%); 
            color: white; padding: 25px 15px; border-radius: 12px; margin-bottom: 25px; text-align: center;
            box-shadow: 0 8px 20px rgba(0,51,102,0.15);
        }
        .grand-total-card p { font-size: 12px; text-transform: uppercase; margin: 0; opacity: 0.9; letter-spacing: 1px; }
        .grand-total-card span { font-size: 42px; font-weight: 800; display: block; margin: 5px 0; }
        .grand-total-card .lp-info { font-size: 12px; font-weight: 500; opacity: 0.9; }

        .enrolmen-list { list-style: none; padding: 0; margin: 0; }
        .enrolmen-item { 
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 0; border-bottom: 1px solid #f1f5f9; 
        }
        .enrolmen-item:last-child { border-bottom: none; }
        .enrolmen-item b { font-size: 15px; color: #334155; }
        .enrolmen-item .total-num { font-weight: 800; color: var(--accent-blue); font-size: 16px; }
        .enrolmen-item .lp-tag { font-size: 11px; color: #94a3b8; font-weight: 500; }

        /* RESPONSIVE */
        @media (max-width: 900px) {
            .main-layout { flex-direction: column; }
            .links-area { grid-template-columns: 1fr; width: 100%; }
            .side-box { width: 100%; box-sizing: border-box; }
            .header { margin-bottom: 30px; }
        }

        .footer { text-align: center; margin-top: 50px; font-size: 12px; color: #94a3b8; font-weight: 500; }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <img src="logo.png" alt="Logo SMKATB" class="logo-sekolah">
            <h1>LAMAN TMUA TOK BACHOK</h1>
         </div>

        <div class="main-layout">
            <div class="links-area">
                <a href="https://drive.google.com/drive/folders/1Z07QYsqg-YRuqNiR4YXg7hQLwHGhCt8p?usp=sharing" class="btn" target="_blank">HALAQAH 2026</a>
                <a href="https://drive.google.com/drive/folders/1R4FdjBu_MviJWC51DVcEiyQpBSGGm-PG?usp=sharing" class="btn" target="_blank">REKOD PRESTASI INDIVIDU</a>
                <a href="https://aimanbum.github.io/dashboardhafazan/" class="btn" target="_blank">DASHBOARD HAFAZAN</a>
                <a href="https://docs.google.com/spreadsheets/d/1xx5BP8lhLu6eqke5RfqEZUs3BnPgLS9u/edit?gid=1105382656#gid=1105382656" class="btn" target="_blank">RPT HIFZ 2026</a>
                <a href="https://forms.gle/MZYJB4YxUYbUkG238" class="btn" target="_blank">REKOD PELAJAR KHATAM</a>
                <a href="https://drive.google.com/drive/folders/1UJBAwL0ctB9TV9YKfd61B_cG2MGX8SsN?usp=drive_link" class="btn" target="_blank">üìÅ ENROLMEN PELAJAR 2026</a>
                <a href="https://mylink.la/sekolah-3315" class="btn" target="_blank">SMKATB ONE STOP CENTRE</a>
            </div>

            <div class="side-box">
                <h3>üìä ENROLMEN 2026</h3>
                <div class="grand-total-card">
                    <p>Jumlah Pelajar Keseluruhan</p>
                    <span id="grand-total">...</span>
                    <div class="lp-info" id="grand-detail">MEMUAT TURUN DATA...</div>
                </div>
                
                <div class="enrolmen-list">
                    <div class="enrolmen-item"><b>T1</b> <span class="total-num" id="t1-total">...</span> <span class="lp-tag" id="t1-detail">L:- P:-</span></div>
                    <div class="enrolmen-item"><b>T2</b> <span class="total-num" id="t2-total">...</span> <span class="lp-tag" id="t2-detail">L:- P:-</span></div>
                    <div class="enrolmen-item"><b>T3</b> <span class="total-num" id="t3-total">...</span> <span class="lp-tag" id="t3-detail">L:- P:-</span></div>
                    <div class="enrolmen-item"><b>T4</b> <span class="total-num" id="t4-total">...</span> <span class="lp-tag" id="t4-detail">L:- P:-</span></div>
                    <div class="enrolmen-item"><b>T5</b> <span class="total-num" id="t5-total">...</span> <span class="lp-tag" id="t5-detail">L:- P:-</span></div>
                    <div class="enrolmen-item"><b>T6</b> <span class="total-num" id="t6-total">...</span> <span class="lp-tag" id="t6-detail">L:- P:-</span></div>
                </div>
            </div>
        </div>

        <div class="footer">
            SMKA Tok Bachok &copy; 2026 | Dikemaskini secara langsung
        </div>
    </div>

    <script>
        const ssID = '1M5HM5y6qgWshsLqB8CoReXiF54sFiUBiS_dVqUtK0gk';
        const url = `https://docs.google.com/spreadsheets/d/${ssID}/gviz/tq?tqx=out:csv`;

        async function fetchEnrolmen() {
            try {
                const response = await fetch(url);
                const data = await response.text();
                const rows = data.split('\n').map(row => row.split(',').map(cell => cell.replace(/"/g, '')));
                const getData = (r, c) => parseInt(rows[r][c]) || 0;

                let grandL = 0; let grandP = 0;

                const processTingkatan = (id, row) => {
                    const l = getData(row - 1, 2);
                    const p = getData(row - 1, 3);
                    grandL += l; grandP += p;
                    document.getElementById(`${id}-total`).innerText = l + p;
                    document.getElementById(`${id}-detail`).innerText = `L:${l} P:${p}`;
                };

                processTingkatan('t1', 7);
                processTingkatan('t2', 13);
                processTingkatan('t3', 19);
                processTingkatan('t4', 25);
                processTingkatan('t5', 31);
                processTingkatan('t6', 36);

                document.getElementById('grand-total').innerText = grandL + grandP;
                document.getElementById('grand-detail').innerText = `LELAKI: ${grandL} | PEREMPUAN: ${grandP}`;
            } catch (e) { 
                console.error('Error:', e);
                document.getElementById('grand-detail').innerText = "RALAT DATA";
            }
        }
        fetchEnrolmen();
    </script>
</body>
</html>
